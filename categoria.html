<!DOCTYPE html>
<html lang="en" ng-app="crudCategoria">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/data/src/css/categoria.css">
    <title>Categoria</title>
</head>
<body ng-controller="categoriaController">
    <div class="container">
        <div>
            <form action="">
                <input type="hidden" ng-model="categoria.id">
                <label>Nome:</label>
                <input type="text" placeholder="Digite o nome da categoria" ng-model="categoria.nome">
            </form>
            <button class="f-formulario" ng-click="salvar()">Salvar</button>
        </div>
    </div>
<script>
    angular.module('crudCategoria', []);
    angular.module('crudCategoria').controller('categoriaController', ($scope, $http) => {
        $scope.categoria= {};
        delete $scope.categoria;

        $scope.salvar = () => {
            $http({
                url:'/data/controllers/CategoriaController.php?acao=salvar',
                method: 'POST',
                data: $scope.categoria
            }).then((response) => {
                console.log(response.data);
                return response.data;
            }).catch((error) => {
                console.log(error);
            })
        }



    })
</script>
</body>
</html>